# Next.js 및 React 개발 규칙

이 프로젝트는 Next.js 앱 라우터와 React를 사용하며 다음 규칙을 따릅니다:

## 컴포넌트 개발

1. 가능한 한 서버 컴포넌트를 사용합니다. 클라이언트 컴포넌트는 필요한 경우에만 사용합니다.
2. 클라이언트 컴포넌트는 파일 상단에 `'use client'` 지시문을 추가합니다.
3. 상태 관리는 최소한으로 유지하고, 필요한 경우에만 사용합니다.
4. 큰 컴포넌트는 작은 컴포넌트로 분리하여 재사용성과 유지보수성을 높입니다.
5. 컴포넌트 props에는 항상 타입을 정의합니다.

## 데이터 페칭

1. 서버 컴포넌트에서는 직접 데이터를 페칭합니다.
2. 클라이언트 컴포넌트에서는 SWR이나 React Query를 사용합니다.
3. API 라우트는 `app/api` 디렉토리에 정의합니다.
4. 데이터 페칭 함수는 `lib/api` 디렉토리에 정의합니다.

## 성능 최적화

1. 이미지는 Next.js의 Image 컴포넌트를 사용합니다.
2. 큰 컴포넌트는 동적 임포트를 사용합니다.
3. 불필요한 리렌더링을 방지하기 위해 메모이제이션을 적절히 사용합니다.
4. 폰트와 같은 정적 자산은 Next.js의 최적화 기능을 활용합니다.

## 접근성

1. 모든 이미지에는 적절한 alt 텍스트를 제공합니다.
2. 시맨틱 HTML 요소를 사용합니다.
3. 키보드 네비게이션이 가능하도록 합니다.
4. ARIA 속성을 적절히 사용합니다.

## Next.js 15 params 처리 규칙

1. 서버 컴포넌트에서:

   - params는 Promise 객체입니다.
   - React.use()로 래핑해서 사용해야 합니다.
   - 타입은 Promise<{ id: string }> 형태로 정의합니다.

2. 클라이언트 컴포넌트('use client')에서:

   - params는 일반 객체입니다.
   - use() 함수 없이 직접 접근합니다.
   - 타입은 { id: string } 형태로 정의합니다.

3. 타입 오류 해결 방법:

   - 서버 컴포넌트: params 타입을 Promise로 정의하고 use() 사용
   - 클라이언트 컴포넌트: params 타입을 일반 객체로 정의하고 직접 접근

4. 주의사항:
   - 클라이언트 컴포넌트에서 use()를 사용하면 타입 오류 발생
   - 서버 컴포넌트에서 직접 접근하면 경고 발생
